<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>XTAL Search Layout Options</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --xtal-navy: #1B2D5B;
      --xtal-ice: #E8ECF1;
      --xtal-dark: #0F1A35;
      --page-bg: #FCFDFF;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', sans-serif;
      background: #f1f5f9;
      color: #334155;
    }

    /* --- Option selector tabs --- */
    .option-tabs {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--xtal-dark);
      display: flex;
      gap: 0;
      padding: 0 24px;
      border-bottom: 2px solid var(--xtal-navy);
    }
    .option-tab {
      padding: 14px 24px;
      color: #94a3b8;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      transition: all 0.2s;
      letter-spacing: 0.02em;
    }
    .option-tab:hover { color: #e2e8f0; }
    .option-tab.active {
      color: white;
      border-bottom-color: #60a5fa;
    }

    /* --- Section wrapper --- */
    .option-section {
      display: none;
      min-height: 100vh;
    }
    .option-section.active { display: block; }

    /* --- Page chrome --- */
    .page-wrapper {
      background: var(--page-bg);
      max-width: 1280px;
      margin: 0 auto;
      min-height: 100vh;
    }

    /* --- SHARED STYLES --- */

    /* Search bar */
    .search-bar {
      display: flex;
      gap: 12px;
      padding: 24px;
    }
    .search-input {
      flex: 1;
      border: 1.5px solid #e2e8f0;
      border-radius: 10px;
      padding: 14px 20px;
      font-size: 15px;
      color: #475569;
      outline: none;
      font-family: 'Inter', sans-serif;
      transition: border-color 0.2s;
    }
    .search-input:focus { border-color: var(--xtal-navy); }
    .search-input::placeholder { color: #94a3b8; }
    .search-btn {
      background: var(--xtal-navy);
      color: white;
      padding: 14px 36px;
      border: none;
      border-radius: 10px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      font-family: 'Inter', sans-serif;
    }

    /* Product card (shared base) */
    .product-card {
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 1px 3px rgba(0,0,0,0.06);
      transition: box-shadow 0.2s;
      display: flex;
      flex-direction: column;
    }
    .product-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    .product-card .img-wrapper {
      aspect-ratio: 1;
      background: #f8fafc;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    .product-card .img-wrapper img {
      max-width: 85%;
      max-height: 85%;
      object-fit: contain;
    }
    .product-card .card-body {
      padding: 12px;
      display: flex;
      flex-direction: column;
      flex: 1;
    }
    .vendor-tag {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #94a3b8;
      font-weight: 500;
    }
    .product-title {
      font-size: 13px;
      font-weight: 500;
      color: #1e293b;
      margin-top: 4px;
      line-height: 1.35;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    .price-row {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      margin-top: auto;
      padding-top: 10px;
    }
    .price {
      font-size: 14px;
      font-weight: 600;
      color: var(--xtal-navy);
    }
    .explain-btn {
      font-size: 11px;
      color: #94a3b8;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 4px;
      background: none;
      border: none;
      font-family: 'Inter', sans-serif;
      white-space: nowrap;
    }
    .explain-btn:hover { color: var(--xtal-navy); }
    .explain-btn svg { width: 12px; height: 12px; }

    /* Sidebar styles (shared) */
    .sidebar {
      width: 260px;
      flex-shrink: 0;
      position: sticky;
      top: 80px;
      height: fit-content;
      max-height: calc(100vh - 100px);
      overflow-y: auto;
    }
    .sidebar-header {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: #64748b;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .filter-section {
      border-bottom: 1px solid #f1f5f9;
      padding-bottom: 14px;
      margin-bottom: 14px;
    }
    .filter-section:last-child { border-bottom: 0; }
    .filter-section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      padding: 6px 0;
    }
    .filter-section-title {
      font-size: 13px;
      font-weight: 500;
      color: #475569;
    }
    .filter-option {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 3px 0;
      font-size: 12px;
      color: #64748b;
      cursor: pointer;
    }
    .filter-option input[type="checkbox"] {
      width: 14px;
      height: 14px;
      accent-color: var(--xtal-navy);
    }
    .filter-count {
      margin-left: auto;
      font-size: 10px;
      color: #94a3b8;
    }

    /* Aspect chips */
    .chip {
      font-size: 12px;
      padding: 7px 16px;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.15s;
      font-family: 'Inter', sans-serif;
      border: 1px solid rgba(27, 45, 91, 0.2);
      color: var(--xtal-navy);
      background: white;
      font-weight: 450;
    }
    .chip:hover {
      border-color: var(--xtal-navy);
      background: rgba(27, 45, 91, 0.04);
    }

    /* Sort area */
    .sort-area {
      display: flex;
      align-items: baseline;
      gap: 12px;
    }
    .sort-select {
      font-size: 12px;
      color: #64748b;
      border: 1px solid #e2e8f0;
      border-radius: 6px;
      padding: 4px 8px;
      background: white;
      font-family: 'Inter', sans-serif;
    }
    .query-time { font-size: 11px; color: #94a3b8; }

    /* Main grid layout */
    .main-grid {
      display: grid;
      gap: 24px;
      padding: 8px 24px 40px;
    }
    .product-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
    }

    /* Price slider mock */
    .price-slider {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 8px;
    }
    .price-preset {
      font-size: 11px;
      padding: 3px 10px;
      border-radius: 12px;
      border: 1px solid #e2e8f0;
      color: #64748b;
      cursor: pointer;
      background: white;
      font-family: 'Inter', sans-serif;
    }
    .price-preset:hover { border-color: var(--xtal-navy); }
    .slider-track {
      width: 100%;
      height: 4px;
      background: #e2e8f0;
      border-radius: 2px;
      margin: 12px 0 4px;
      position: relative;
    }
    .slider-fill {
      position: absolute;
      left: 5%;
      right: 5%;
      top: 0;
      height: 100%;
      background: var(--xtal-navy);
      border-radius: 2px;
    }
    .slider-labels {
      display: flex;
      justify-content: space-between;
      font-size: 11px;
      color: #94a3b8;
    }

    /* Toggle sidebar button */
    .toggle-sidebar {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: #64748b;
      cursor: pointer;
      background: none;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 6px 14px;
      font-family: 'Inter', sans-serif;
      transition: all 0.15s;
    }
    .toggle-sidebar:hover {
      border-color: var(--xtal-navy);
      color: var(--xtal-navy);
    }
    .toggle-sidebar svg { width: 14px; height: 14px; }

    /* Results text: strong count, fading tail */
    .results-count {
      font-size: 13px;
      font-weight: 500;
      color: #334155;
    }
    .results-tail {
      font-size: 13px;
      color: #94a3b8;
      display: inline;
      -webkit-mask-image: linear-gradient(to right, black 50%, transparent);
      mask-image: linear-gradient(to right, black 50%, transparent);
      -webkit-mask-size: 200% 100%;
      mask-size: 200% 100%;
      -webkit-mask-repeat: no-repeat;
      mask-repeat: no-repeat;
      -webkit-mask-position: 0% 0;
      mask-position: 0% 0;
      animation: wipeTailOut 7s ease-in forwards;
      animation-delay: 2s;
    }
    @keyframes wipeTailOut {
      0%   { -webkit-mask-position: 0% 0; mask-position: 0% 0; }
      100% { -webkit-mask-position: 200% 0; mask-position: 200% 0; }
    }

    /* Sticky header for comparison */
    .section-compare-label {
      position: sticky;
      top: 48px;
      z-index: 50;
      background: white;
      border-bottom: 1px solid #e2e8f0;
      padding: 10px 24px;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .badge {
      font-size: 11px;
      font-weight: 600;
      padding: 3px 10px;
      border-radius: 6px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    .badge-current { background: #fef3c7; color: #92400e; }
    .badge-proposed { background: #dcfce7; color: #166534; }
    .compare-notes {
      font-size: 12px;
      color: #64748b;
    }

    /* Replay button */
    .replay-btn {
      font-size: 11px;
      color: #64748b;
      background: none;
      border: 1px solid #e2e8f0;
      border-radius: 6px;
      padding: 3px 10px;
      cursor: pointer;
      font-family: 'Inter', sans-serif;
    }
    .replay-btn:hover { border-color: var(--xtal-navy); color: var(--xtal-navy); }
  </style>
</head>
<body>

<!-- TAB BAR -->
<div class="option-tabs" id="tabs">
  <div class="option-tab active" data-target="current">Current</div>
  <div class="option-tab" data-target="option-a">A: Tuned Spacing</div>
  <div class="option-tab" data-target="option-b">B: Collapsible Sidebar</div>
  <div class="option-tab" data-target="option-c">C: Full Refinement</div>
</div>

<!-- ============================================================ -->
<!-- CURRENT LAYOUT (as-is) -->
<!-- ============================================================ -->
<div class="option-section active" id="current">
  <div class="section-compare-label">
    <span class="badge badge-current">Current</span>
    <span class="compare-notes">As-is for reference. Cramped gutter, "Why this result?" competes with price, "AI suggestions" label, small pills.</span>
  </div>
  <div class="page-wrapper">
    <div class="search-bar">
      <input class="search-input" placeholder="Describe what a customer is looking for..." value="shirts" />
      <button class="search-btn">Search</button>
    </div>

    <!-- Aspects: grid-aligned over product column -->
    <div style="display: grid; grid-template-columns: 260px 1fr; gap: 24px; padding: 0 24px;">
      <div></div>
      <div style="display: flex; flex-direction: column; gap: 8px;">
        <span style="font-size: 11px; text-transform: uppercase; letter-spacing: 0.08em; color: #94a3b8; font-weight: 500; display: flex; align-items: center; gap: 6px;">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: rgba(27,45,91,0.6);"><path d="M12 3l1.912 5.813h6.122l-4.966 3.602 1.912 5.813L12 14.626l-4.98 3.602 1.912-5.813L3.966 8.813h6.122z"/></svg>
          AI suggestions
        </span>
        <div style="display: flex; flex-wrap: wrap; gap: 8px;">
          <span class="chip" style="font-size: 11px; padding: 5px 12px;">100% Pima cotton</span>
          <span class="chip" style="font-size: 11px; padding: 5px 12px;">Italian linen</span>
          <span class="chip" style="font-size: 11px; padding: 5px 12px;">Slim fit</span>
          <span class="chip" style="font-size: 11px; padding: 5px 12px;">Button-down collar</span>
          <span class="chip" style="font-size: 11px; padding: 5px 12px;">Midnight navy</span>
        </div>
      </div>
    </div>

    <!-- Results info: grid-aligned -->
    <div style="display: grid; grid-template-columns: 260px 1fr; gap: 24px; padding: 8px 24px;">
      <div></div>
      <div style="display: flex; align-items: baseline; justify-content: space-between;">
        <span style="font-size: 13px; color: #64748b;">Found 40 results for "shirts" including 100% Pima cotton, Italian linen, Slim fit, and more</span>
        <div class="sort-area">
          <select class="sort-select"><option>AI Relevance</option></select>
          <span class="query-time">0.78s</span>
        </div>
      </div>
    </div>

    <!-- Grid: 260px sidebar + products, gap-6 (24px) -->
    <div class="main-grid" style="grid-template-columns: 260px 1fr; gap: 24px;">
      <div class="sidebar">
        <div class="sidebar-header">Filters</div>
        <div class="filter-section">
          <div class="filter-section-header">
            <span class="filter-section-title">Price</span>
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#94a3b8" stroke-width="2"><path d="M18 15l-6-6-6 6"/></svg>
          </div>
          <div class="price-slider">
            <span class="price-preset">Under $25</span><span class="price-preset">$25–$50</span><span class="price-preset">$50–$100</span><span class="price-preset">$100–$200</span><span class="price-preset">$200+</span>
          </div>
          <div class="slider-track"><div class="slider-fill"></div></div>
          <div class="slider-labels"><span>$7</span><span>$87</span></div>
        </div>
        <div class="filter-section">
          <div class="filter-section-header"><span class="filter-section-title">Use Case</span><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#94a3b8" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></div>
        </div>
        <div class="filter-section">
          <div class="filter-section-header"><span class="filter-section-title">Category</span><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#94a3b8" stroke-width="2"><path d="M18 15l-6-6-6 6"/></svg></div>
          <div style="margin-top: 6px;">
            <label class="filter-option"><input type="checkbox" /> Clothing Closet Storage <span class="filter-count">4</span></label>
            <label class="filter-option"><input type="checkbox" /> Mens Jewelry <span class="filter-count">2</span></label>
            <label class="filter-option"><input type="checkbox" /> Mens Shirts <span class="filter-count">2</span></label>
            <label class="filter-option"><input type="checkbox" /> Accessories <span class="filter-count">2</span></label>
            <label class="filter-option"><input type="checkbox" /> Tops Tees <span class="filter-count">2</span></label>
          </div>
        </div>
      </div>

      <!-- Products: "Why this result?" below price, left-aligned -->
      <div class="product-grid">
        <div class="product-card" style="border-top: 2px solid #fbbf24;">
          <div class="img-wrapper"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Cufflinks" /></div>
          <div class="card-body">
            <span class="vendor-tag">YINKIN</span>
            <span class="product-title">10 Pairs Cufflinks for Men Classic Cuff Links Set Men's...</span>
            <p class="price" style="margin-top: auto; padding-top: 10px;">$20.99</p>
            <button class="explain-btn" style="margin-top: 8px;"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg> Why this result?</button>
          </div>
        </div>
        <div class="product-card" style="border-top: 2px solid #fbbf24;">
          <div class="img-wrapper"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=V-Neck" /></div>
          <div class="card-body">
            <span class="vendor-tag">JOCKEY</span>
            <span class="product-title">Jockey Men's 6 Pack Classic V-Neck Large White Short...</span>
            <p class="price" style="margin-top: auto; padding-top: 10px;">$86.83</p>
            <button class="explain-btn" style="margin-top: 8px;"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg> Why this result?</button>
          </div>
        </div>
        <div class="product-card">
          <div class="img-wrapper"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Earrings" /></div>
          <div class="card-body">
            <span class="vendor-tag">WORTHUNTER</span>
            <span class="product-title">30 Pairs Weird Kawaii Earrings Set for Girls Women, Include...</span>
            <p class="price" style="margin-top: auto; padding-top: 10px;">$20.99</p>
            <button class="explain-btn" style="margin-top: 8px;"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg> Why this result?</button>
          </div>
        </div>
        <div class="product-card">
          <div class="img-wrapper"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Belt" /></div>
          <div class="card-body">
            <span class="vendor-tag">BELTAWAY</span>
            <span class="product-title">BELTAWAY Tuck N Stay Keep Shirts Tucked in Extra...</span>
            <p class="price" style="margin-top: auto; padding-top: 10px;">$22.95</p>
            <button class="explain-btn" style="margin-top: 8px;"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg> Why this result?</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ============================================================ -->
<!-- OPTION A: Tuned Spacing -->
<!-- ============================================================ -->
<div class="option-section" id="option-a">
  <div class="section-compare-label">
    <span class="badge badge-proposed">Option A</span>
    <span class="compare-notes">Minimal changes: wider gutter (24&rarr;40px), right-aligned explain on price row, "Enhance your search" label, bigger pills, fading intent tail.</span>
    <button class="replay-btn" onclick="replayFade('a')">Replay fade</button>
  </div>
  <div class="page-wrapper">
    <div class="search-bar">
      <input class="search-input" placeholder="Describe what a customer is looking for..." value="shirts" />
      <button class="search-btn">Search</button>
    </div>

    <!-- Chips: grid-aligned, renamed, more breathing room -->
    <div style="display: grid; grid-template-columns: 260px 1fr; gap: 40px; padding: 0 24px; margin-bottom: 12px;">
      <div></div>
      <div style="display: flex; flex-direction: column; gap: 10px; padding-top: 4px;">
        <span style="font-size: 11px; text-transform: uppercase; letter-spacing: 0.08em; color: #64748b; font-weight: 600; display: flex; align-items: center; gap: 6px;">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="rgba(27,45,91,0.5)" stroke-width="2"><path d="M12 3l1.912 5.813h6.122l-4.966 3.602 1.912 5.813L12 14.626l-4.98 3.602 1.912-5.813L3.966 8.813h6.122z"/></svg>
          Enhance your search
        </span>
        <div style="display: flex; flex-wrap: wrap; gap: 10px;">
          <span class="chip">100% Pima cotton</span>
          <span class="chip">Italian linen</span>
          <span class="chip">Slim fit</span>
          <span class="chip">Button-down collar</span>
          <span class="chip">Midnight navy</span>
        </div>
      </div>
    </div>

    <!-- Results info: grid-aligned, darker count, fading tail -->
    <div style="display: grid; grid-template-columns: 260px 1fr; gap: 40px; padding: 4px 24px 8px;">
      <div></div>
      <div style="display: flex; align-items: baseline; justify-content: space-between;">
        <p style="font-size: 13px; white-space: nowrap; overflow: hidden;">
          <span class="results-count">40 results for &ldquo;shirts&rdquo;</span>
          <span class="results-tail" id="tail-a"> including 100% Pima cotton, Italian linen, Slim fit, Button-down collar, and more</span>
        </p>
        <div class="sort-area">
          <select class="sort-select"><option>AI Relevance</option></select>
          <span class="query-time">0.78s</span>
        </div>
      </div>
    </div>

    <!-- Grid: wider gutter (40px) -->
    <div class="main-grid" style="grid-template-columns: 260px 1fr; gap: 40px;">
      <div class="sidebar">
        <div class="sidebar-header">Filters</div>
        <div class="filter-section">
          <div class="filter-section-header"><span class="filter-section-title">Price</span><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#94a3b8" stroke-width="2"><path d="M18 15l-6-6-6 6"/></svg></div>
          <div class="price-slider"><span class="price-preset">Under $25</span><span class="price-preset">$25–$50</span><span class="price-preset">$50–$100</span><span class="price-preset">$100–$200</span><span class="price-preset">$200+</span></div>
          <div class="slider-track"><div class="slider-fill"></div></div>
          <div class="slider-labels"><span>$7</span><span>$87</span></div>
        </div>
        <div class="filter-section">
          <div class="filter-section-header"><span class="filter-section-title">Use Case</span><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#94a3b8" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></div>
        </div>
        <div class="filter-section">
          <div class="filter-section-header"><span class="filter-section-title">Category</span><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#94a3b8" stroke-width="2"><path d="M18 15l-6-6-6 6"/></svg></div>
          <div style="margin-top: 6px;">
            <label class="filter-option"><input type="checkbox" /> Clothing Closet Storage <span class="filter-count">4</span></label>
            <label class="filter-option"><input type="checkbox" /> Mens Jewelry <span class="filter-count">2</span></label>
            <label class="filter-option"><input type="checkbox" /> Mens Shirts <span class="filter-count">2</span></label>
            <label class="filter-option"><input type="checkbox" /> Accessories <span class="filter-count">2</span></label>
            <label class="filter-option"><input type="checkbox" /> Tops Tees <span class="filter-count">2</span></label>
          </div>
        </div>
      </div>

      <!-- Products: explain right-aligned in price row -->
      <div class="product-grid">
        <div class="product-card" style="border-top: 2px solid #fbbf24;">
          <div class="img-wrapper"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Cufflinks" /></div>
          <div class="card-body">
            <span class="vendor-tag">YINKIN</span>
            <span class="product-title">10 Pairs Cufflinks for Men Classic Cuff Links Set Men's...</span>
            <div class="price-row"><span class="price">$20.99</span><button class="explain-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg> Why?</button></div>
          </div>
        </div>
        <div class="product-card" style="border-top: 2px solid #fbbf24;">
          <div class="img-wrapper"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=V-Neck" /></div>
          <div class="card-body">
            <span class="vendor-tag">JOCKEY</span>
            <span class="product-title">Jockey Men's 6 Pack Classic V-Neck Large White Short...</span>
            <div class="price-row"><span class="price">$86.83</span><button class="explain-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg> Why?</button></div>
          </div>
        </div>
        <div class="product-card">
          <div class="img-wrapper"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Earrings" /></div>
          <div class="card-body">
            <span class="vendor-tag">WORTHUNTER</span>
            <span class="product-title">30 Pairs Weird Kawaii Earrings Set for Girls Women, Include...</span>
            <div class="price-row"><span class="price">$20.99</span><button class="explain-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg> Why?</button></div>
          </div>
        </div>
        <div class="product-card">
          <div class="img-wrapper"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Belt" /></div>
          <div class="card-body">
            <span class="vendor-tag">BELTAWAY</span>
            <span class="product-title">BELTAWAY Tuck N Stay Keep Shirts Tucked in Extra...</span>
            <div class="price-row"><span class="price">$22.95</span><button class="explain-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg> Why?</button></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ============================================================ -->
<!-- OPTION B: Collapsible Sidebar -->
<!-- ============================================================ -->
<div class="option-section" id="option-b">
  <div class="section-compare-label">
    <span class="badge badge-proposed">Option B</span>
    <span class="compare-notes">Collapsible sidebar &mdash; toggle hides filters, grid expands to 5 cols. All Option A improvements included.</span>
    <button class="replay-btn" onclick="replayFade('b')">Replay fade</button>
  </div>
  <div class="page-wrapper">
    <div class="search-bar">
      <input class="search-input" placeholder="Describe what a customer is looking for..." value="shirts" />
      <button class="search-btn">Search</button>
    </div>

    <!-- Chips: grid-aligned -->
    <div id="opt-b-chips-grid" style="display: grid; grid-template-columns: 260px 1fr; gap: 40px; padding: 0 24px; margin-bottom: 12px;">
      <div class="opt-b-spacer"></div>
      <div style="display: flex; flex-direction: column; gap: 10px; padding-top: 4px;">
        <span style="font-size: 11px; text-transform: uppercase; letter-spacing: 0.08em; color: #64748b; font-weight: 600; display: flex; align-items: center; gap: 6px;">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="rgba(27,45,91,0.5)" stroke-width="2"><path d="M12 3l1.912 5.813h6.122l-4.966 3.602 1.912 5.813L12 14.626l-4.98 3.602 1.912-5.813L3.966 8.813h6.122z"/></svg>
          Enhance your search
        </span>
        <div style="display: flex; flex-wrap: wrap; gap: 10px;">
          <span class="chip">100% Pima cotton</span>
          <span class="chip">Italian linen</span>
          <span class="chip">Slim fit</span>
          <span class="chip">Button-down collar</span>
          <span class="chip">Midnight navy</span>
        </div>
      </div>
    </div>

    <!-- Results info: grid-aligned with toggle button -->
    <div id="opt-b-info-grid" style="display: grid; grid-template-columns: 260px 1fr; gap: 40px; padding: 4px 24px 8px;">
      <div class="opt-b-spacer" style="display: flex; align-items: center;">
        <button class="toggle-sidebar" onclick="toggleFiltersB(this)">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 6h16M4 12h10M4 18h6"/></svg>
          <span class="toggle-label-b">Hide Filters</span>
        </button>
      </div>
      <div style="display: flex; align-items: baseline; justify-content: space-between;">
        <p style="font-size: 13px; white-space: nowrap; overflow: hidden;">
          <span class="results-count">40 results for &ldquo;shirts&rdquo;</span>
          <span class="results-tail" id="tail-b"> including 100% Pima cotton, Italian linen, Slim fit, Button-down collar, and more</span>
        </p>
        <div class="sort-area">
          <select class="sort-select"><option>AI Relevance</option></select>
          <span class="query-time">0.78s</span>
        </div>
      </div>
    </div>

    <!-- Grid: collapsible -->
    <div class="main-grid" id="opt-b-grid" style="grid-template-columns: 260px 1fr; gap: 40px;">
      <div class="sidebar" id="opt-b-sidebar">
        <div class="sidebar-header">Filters</div>
        <div class="filter-section">
          <div class="filter-section-header"><span class="filter-section-title">Price</span><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#94a3b8" stroke-width="2"><path d="M18 15l-6-6-6 6"/></svg></div>
          <div class="price-slider"><span class="price-preset">Under $25</span><span class="price-preset">$25–$50</span><span class="price-preset">$50–$100</span><span class="price-preset">$100–$200</span><span class="price-preset">$200+</span></div>
          <div class="slider-track"><div class="slider-fill"></div></div>
          <div class="slider-labels"><span>$7</span><span>$87</span></div>
        </div>
        <div class="filter-section">
          <div class="filter-section-header"><span class="filter-section-title">Category</span><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#94a3b8" stroke-width="2"><path d="M18 15l-6-6-6 6"/></svg></div>
          <div style="margin-top: 6px;">
            <label class="filter-option"><input type="checkbox" /> Clothing Closet Storage <span class="filter-count">4</span></label>
            <label class="filter-option"><input type="checkbox" /> Mens Jewelry <span class="filter-count">2</span></label>
            <label class="filter-option"><input type="checkbox" /> Mens Shirts <span class="filter-count">2</span></label>
            <label class="filter-option"><input type="checkbox" /> Accessories <span class="filter-count">2</span></label>
          </div>
        </div>
      </div>

      <div class="product-grid" id="opt-b-products">
        <div class="product-card" style="border-top: 2px solid #fbbf24;">
          <div class="img-wrapper"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Cufflinks" /></div>
          <div class="card-body">
            <span class="vendor-tag">YINKIN</span>
            <span class="product-title">10 Pairs Cufflinks for Men Classic Cuff Links Set Men's...</span>
            <div class="price-row"><span class="price">$20.99</span><button class="explain-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg> Why?</button></div>
          </div>
        </div>
        <div class="product-card" style="border-top: 2px solid #fbbf24;">
          <div class="img-wrapper"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=V-Neck" /></div>
          <div class="card-body">
            <span class="vendor-tag">JOCKEY</span>
            <span class="product-title">Jockey Men's 6 Pack Classic V-Neck Large White Short...</span>
            <div class="price-row"><span class="price">$86.83</span><button class="explain-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg> Why?</button></div>
          </div>
        </div>
        <div class="product-card">
          <div class="img-wrapper"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Earrings" /></div>
          <div class="card-body">
            <span class="vendor-tag">WORTHUNTER</span>
            <span class="product-title">30 Pairs Weird Kawaii Earrings Set for Girls Women, Include...</span>
            <div class="price-row"><span class="price">$20.99</span><button class="explain-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg> Why?</button></div>
          </div>
        </div>
        <div class="product-card">
          <div class="img-wrapper"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Belt" /></div>
          <div class="card-body">
            <span class="vendor-tag">BELTAWAY</span>
            <span class="product-title">BELTAWAY Tuck N Stay Keep Shirts Tucked in Extra...</span>
            <div class="price-row"><span class="price">$22.95</span><button class="explain-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg> Why?</button></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ============================================================ -->
<!-- OPTION C: Full Refinement -->
<!-- ============================================================ -->
<div class="option-section" id="option-c">
  <div class="section-compare-label">
    <span class="badge badge-proposed">Option C</span>
    <span class="compare-notes">Full refinement: prominent chip rail with white background, collapsible sidebar, icon-only explain, 12px rounded cards, extra product rows.</span>
    <button class="replay-btn" onclick="replayFade('c')">Replay fade</button>
  </div>
  <div class="page-wrapper">
    <div class="search-bar" style="padding-bottom: 12px;">
      <input class="search-input" placeholder="Describe what a customer is looking for..." value="shirts" />
      <button class="search-btn">Search</button>
    </div>

    <!-- Chips: flush under search bar, no label. First two are active (inverted) -->
    <div style="padding: 0 24px 20px; display: flex; flex-wrap: wrap; gap: 10px;">
      <span class="chip" style="padding: 8px 18px; font-size: 13px; background: #1B2D5B; color: white; border-color: #1B2D5B;">100% Pima cotton <span style="opacity: 0.5; margin-left: 4px;">&minus;</span></span>
      <span class="chip" style="padding: 8px 18px; font-size: 13px; background: #1B2D5B; color: white; border-color: #1B2D5B;">Italian linen <span style="opacity: 0.5; margin-left: 4px;">&minus;</span></span>
      <span class="chip" style="padding: 8px 18px; font-size: 13px;">Slim fit <span style="opacity: 0.4; margin-left: 4px;">+</span></span>
      <span class="chip" style="padding: 8px 18px; font-size: 13px;">Button-down collar <span style="opacity: 0.4; margin-left: 4px;">+</span></span>
      <span class="chip" style="padding: 8px 18px; font-size: 13px;">Midnight navy <span style="opacity: 0.4; margin-left: 4px;">+</span></span>
    </div>

    <!-- Results bar: grid-aligned — toggle+Filters on left col, results count on right col -->
    <div style="display: grid; grid-template-columns: 260px 1fr; gap: 40px; padding: 20px 24px 8px;" id="opt-c-info-grid">
      <!-- Left: filter toggle icon inline with "Filters" label -->
      <div style="display: flex; align-items: center; gap: 8px;">
        <button class="toggle-icon" id="opt-c-toggle" onclick="toggleFiltersC(this)" title="Toggle filters" style="display: flex; align-items: center; justify-content: center; width: 28px; height: 28px; border-radius: 6px; border: 1px solid #e2e8f0; background: none; cursor: pointer; color: #64748b; transition: all 0.15s;" onmouseover="this.style.borderColor='#1B2D5B'; this.style.color='#1B2D5B'" onmouseout="this.style.borderColor='#e2e8f0'; this.style.color='#64748b'">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 6h16M4 12h10M4 18h6"/></svg>
        </button>
        <span style="font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: #64748b;">Filters</span>
      </div>
      <!-- Right: results count + sort -->
      <div style="display: flex; align-items: baseline; justify-content: space-between;">
        <p style="font-size: 13px; white-space: nowrap; overflow: hidden;">
          <span class="results-count">40 results for &ldquo;shirts&rdquo;</span>
          <span class="results-tail" id="tail-c"> including 100% Pima cotton, Italian linen, Slim fit, Button-down collar, and more</span>
        </p>
        <div class="sort-area">
          <select class="sort-select"><option>AI Relevance</option></select>
          <span class="query-time">0.78s</span>
        </div>
      </div>
    </div>

    <!-- Grid -->
    <div class="main-grid" id="opt-c-grid" style="grid-template-columns: 260px 1fr; gap: 40px; padding-top: 4px;">
      <div class="sidebar" id="opt-c-sidebar">
        <!-- Header removed — "Filters" label is now in the info bar above -->
        <div style="height: 0;"></div>
        <div class="filter-section">
          <div class="filter-section-header"><span class="filter-section-title">Price</span><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#94a3b8" stroke-width="2"><path d="M18 15l-6-6-6 6"/></svg></div>
          <div class="price-slider"><span class="price-preset">Under $25</span><span class="price-preset">$25–$50</span><span class="price-preset">$50–$100</span><span class="price-preset">$100–$200</span><span class="price-preset">$200+</span></div>
          <div class="slider-track"><div class="slider-fill"></div></div>
          <div class="slider-labels"><span>$7</span><span>$87</span></div>
        </div>
        <div class="filter-section">
          <div class="filter-section-header"><span class="filter-section-title">Use Case</span><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#94a3b8" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></div>
        </div>
        <div class="filter-section">
          <div class="filter-section-header"><span class="filter-section-title">Category</span><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#94a3b8" stroke-width="2"><path d="M18 15l-6-6-6 6"/></svg></div>
          <div style="margin-top: 6px;">
            <label class="filter-option"><input type="checkbox" /> Clothing Closet Storage <span class="filter-count">4</span></label>
            <label class="filter-option"><input type="checkbox" /> Mens Jewelry <span class="filter-count">2</span></label>
            <label class="filter-option"><input type="checkbox" /> Mens Shirts <span class="filter-count">2</span></label>
            <label class="filter-option"><input type="checkbox" /> Accessories <span class="filter-count">2</span></label>
            <label class="filter-option"><input type="checkbox" /> Tops Tees <span class="filter-count">2</span></label>
          </div>
        </div>
      </div>

      <!-- Products: icon-only explain, rounder cards, more gap -->
      <div class="product-grid" id="opt-c-products" style="gap: 20px;">
        <div class="product-card" style="border-top: 2px solid #fbbf24; border-radius: 12px;">
          <div class="img-wrapper" style="border-radius: 12px 12px 0 0;"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Cufflinks" /></div>
          <div class="card-body" style="padding: 14px;">
            <span class="vendor-tag">YINKIN</span>
            <span class="product-title">10 Pairs Cufflinks for Men Classic Cuff Links Set Men's...</span>
            <div class="price-row" style="padding-top: 12px;">
              <span class="price">$20.99</span>
              <button class="explain-btn" title="Why this result?" style="padding: 4px; border-radius: 6px;" onmouseover="this.style.background='#f1f5f9'" onmouseout="this.style.background='transparent'">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px;"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
              </button>
            </div>
          </div>
        </div>
        <div class="product-card" style="border-top: 2px solid #fbbf24; border-radius: 12px;">
          <div class="img-wrapper" style="border-radius: 12px 12px 0 0;"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=V-Neck" /></div>
          <div class="card-body" style="padding: 14px;">
            <span class="vendor-tag">JOCKEY</span>
            <span class="product-title">Jockey Men's 6 Pack Classic V-Neck Large White Short...</span>
            <div class="price-row" style="padding-top: 12px;">
              <span class="price">$86.83</span>
              <button class="explain-btn" title="Why this result?" style="padding: 4px; border-radius: 6px;" onmouseover="this.style.background='#f1f5f9'" onmouseout="this.style.background='transparent'">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px;"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
              </button>
            </div>
          </div>
        </div>
        <div class="product-card" style="border-radius: 12px;">
          <div class="img-wrapper" style="border-radius: 12px 12px 0 0;"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Earrings" /></div>
          <div class="card-body" style="padding: 14px;">
            <span class="vendor-tag">WORTHUNTER</span>
            <span class="product-title">30 Pairs Weird Kawaii Earrings Set for Girls Women, Include...</span>
            <div class="price-row" style="padding-top: 12px;">
              <span class="price">$20.99</span>
              <button class="explain-btn" title="Why this result?" style="padding: 4px; border-radius: 6px;" onmouseover="this.style.background='#f1f5f9'" onmouseout="this.style.background='transparent'">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px;"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
              </button>
            </div>
          </div>
        </div>
        <div class="product-card" style="border-radius: 12px;">
          <div class="img-wrapper" style="border-radius: 12px 12px 0 0;"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Belt" /></div>
          <div class="card-body" style="padding: 14px;">
            <span class="vendor-tag">BELTAWAY</span>
            <span class="product-title">BELTAWAY Tuck N Stay Keep Shirts Tucked in Extra...</span>
            <div class="price-row" style="padding-top: 12px;">
              <span class="price">$22.95</span>
              <button class="explain-btn" title="Why this result?" style="padding: 4px; border-radius: 6px;" onmouseover="this.style.background='#f1f5f9'" onmouseout="this.style.background='transparent'">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px;"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
              </button>
            </div>
          </div>
        </div>
        <!-- Row 2 -->
        <div class="product-card" style="border-radius: 12px;">
          <div class="img-wrapper" style="border-radius: 12px 12px 0 0;"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Dress+Shirt" /></div>
          <div class="card-body" style="padding: 14px;">
            <span class="vendor-tag">CALVIN KLEIN</span>
            <span class="product-title">Calvin Klein Men's Dress Shirt Slim Fit Non Iron...</span>
            <div class="price-row" style="padding-top: 12px;">
              <span class="price">$34.99</span>
              <button class="explain-btn" title="Why this result?" style="padding: 4px; border-radius: 6px;" onmouseover="this.style.background='#f1f5f9'" onmouseout="this.style.background='transparent'">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px;"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
              </button>
            </div>
          </div>
        </div>
        <div class="product-card" style="border-top: 2px solid #fde68a; border-radius: 12px;">
          <div class="img-wrapper" style="border-radius: 12px 12px 0 0;"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Polo" /></div>
          <div class="card-body" style="padding: 14px;">
            <span class="vendor-tag">RALPH LAUREN</span>
            <span class="product-title">Polo Ralph Lauren Men's Classic Fit Mesh Polo Shirt...</span>
            <div class="price-row" style="padding-top: 12px;">
              <span class="price">$89.50</span>
              <button class="explain-btn" title="Why this result?" style="padding: 4px; border-radius: 6px;" onmouseover="this.style.background='#f1f5f9'" onmouseout="this.style.background='transparent'">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px;"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
              </button>
            </div>
          </div>
        </div>
        <div class="product-card" style="border-radius: 12px;">
          <div class="img-wrapper" style="border-radius: 12px 12px 0 0;"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Linen" /></div>
          <div class="card-body" style="padding: 14px;">
            <span class="vendor-tag">J.CREW</span>
            <span class="product-title">J.Crew Baird McNutt Irish Linen Shirt in Navy Stripe...</span>
            <div class="price-row" style="padding-top: 12px;">
              <span class="price">$79.50</span>
              <button class="explain-btn" title="Why this result?" style="padding: 4px; border-radius: 6px;" onmouseover="this.style.background='#f1f5f9'" onmouseout="this.style.background='transparent'">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px;"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
              </button>
            </div>
          </div>
        </div>
        <div class="product-card" style="border-top: 2px solid #fbbf24; border-radius: 12px;">
          <div class="img-wrapper" style="border-radius: 12px 12px 0 0;"><img src="https://placehold.co/300x300/f8fafc/94a3b8?text=Oxford" /></div>
          <div class="card-body" style="padding: 14px;">
            <span class="vendor-tag">BROOKS BROTHERS</span>
            <span class="product-title">Brooks Brothers Original Fit Oxford Button-Down Shirt...</span>
            <div class="price-row" style="padding-top: 12px;">
              <span class="price">$98.00</span>
              <button class="explain-btn" title="Why this result?" style="padding: 4px; border-radius: 6px;" onmouseover="this.style.background='#f1f5f9'" onmouseout="this.style.background='transparent'">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px;"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Tab switching
  document.querySelectorAll('.option-tab').forEach(tab => {
    tab.addEventListener('click', () => {
      document.querySelectorAll('.option-tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.option-section').forEach(s => s.classList.remove('active'));
      tab.classList.add('active');
      document.getElementById(tab.dataset.target).classList.add('active');
    });
  });

  // Replay fade animation
  function replayFade(id) {
    const el = document.getElementById('tail-' + id);
    if (!el) return;
    el.style.animation = 'none';
    el.offsetHeight; // force reflow
    el.style.animation = 'wipeTailOut 7s ease-in forwards';
    el.style.animationDelay = '0s';
  }

  // Option B: toggle sidebar
  let bVisible = true;
  function toggleFiltersB(btn) {
    bVisible = !bVisible;
    const grid = document.getElementById('opt-b-grid');
    const sidebar = document.getElementById('opt-b-sidebar');
    const label = btn.querySelector('.toggle-label-b');
    const products = document.getElementById('opt-b-products');
    const chipsGrid = document.getElementById('opt-b-chips-grid');
    const infoGrid = document.getElementById('opt-b-info-grid');
    // hide all spacers
    const spacers = document.querySelectorAll('.opt-b-spacer');

    if (bVisible) {
      sidebar.style.display = '';
      grid.style.gridTemplateColumns = '260px 1fr';
      chipsGrid.style.gridTemplateColumns = '260px 1fr';
      infoGrid.style.gridTemplateColumns = '260px 1fr';
      spacers.forEach(s => s.style.display = '');
      label.textContent = 'Hide Filters';
      products.style.gridTemplateColumns = 'repeat(4, 1fr)';
    } else {
      sidebar.style.display = 'none';
      grid.style.gridTemplateColumns = '1fr';
      chipsGrid.style.gridTemplateColumns = '1fr';
      infoGrid.style.gridTemplateColumns = 'auto 1fr';
      spacers.forEach(s => { if (!s.querySelector('.toggle-sidebar')) s.style.display = 'none'; });
      label.textContent = 'Show Filters';
      products.style.gridTemplateColumns = 'repeat(5, 1fr)';
    }
  }

  // Option C: toggle sidebar (icon-only), starts closed
  let cVisible = false;
  // Initialize closed on load
  (function initFiltersC() {
    const grid = document.getElementById('opt-c-grid');
    const sidebar = document.getElementById('opt-c-sidebar');
    const products = document.getElementById('opt-c-products');
    const infoGrid = document.getElementById('opt-c-info-grid');
    const btn = document.getElementById('opt-c-toggle');
    if (!grid) return;
    sidebar.style.display = 'none';
    grid.style.gridTemplateColumns = '1fr';
    infoGrid.style.gridTemplateColumns = 'auto 1fr';
    products.style.gridTemplateColumns = 'repeat(5, 1fr)';
    btn.title = 'Show filters';
  })();

  function toggleFiltersC(btn) {
    cVisible = !cVisible;
    const grid = document.getElementById('opt-c-grid');
    const sidebar = document.getElementById('opt-c-sidebar');
    const products = document.getElementById('opt-c-products');
    const infoGrid = document.getElementById('opt-c-info-grid');

    if (cVisible) {
      sidebar.style.display = '';
      grid.style.gridTemplateColumns = '260px 1fr';
      infoGrid.style.gridTemplateColumns = '260px 1fr';
      products.style.gridTemplateColumns = 'repeat(4, 1fr)';
      btn.title = 'Hide filters';
    } else {
      sidebar.style.display = 'none';
      grid.style.gridTemplateColumns = '1fr';
      infoGrid.style.gridTemplateColumns = 'auto 1fr';
      products.style.gridTemplateColumns = 'repeat(5, 1fr)';
      btn.title = 'Show filters';
    }
  }
</script>

</body>
</html>
